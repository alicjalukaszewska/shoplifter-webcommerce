"use strict";(self.webpackChunkshoplifter=self.webpackChunkshoplifter||[]).push([[506],{2506:(I,u,r)=>{r.r(u),r.d(u,{CartSummaryModule:()=>$});var c=r(9808),_=r(387),l=r(9706),t=r(5e3),g=r(5415),p=r(4218),d=r(5782),s=r(6166),C=r(6675),x=r(7423),h=r(5245),f=r(6847);function v(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const m=t.CHM(n).row;return t.oxw(4).goToProductDetails(m)}),t._UZ(1,"img",16),t.TgZ(2,"div")(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"div",17),t._uU(6),t.ALo(7,"translate"),t.qZA()()()}if(2&o){const n=e.row;t.xp6(1),t.Q6J("src",n.image,t.LSH),t.xp6(3),t.Oqu(n.title),t.xp6(2),t.AsE(" ",t.lcZ(7,4,"products.no"),"",n.id," ")}}function b(o,e){if(1&o&&(t.TgZ(0,"ngx-datatable-column",13),t.YNc(1,v,8,6,"ng-template",14),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("name",n.name),t.s9C("prop",n.prop),t.Q6J("width",400)}}const y=function(){return["/product-list"]},Z=function(o){return{category:o}};function S(o,e){if(1&o&&(t.TgZ(0,"a",19),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&o){const n=e.value;t.Q6J("routerLink",t.DdM(5,y))("queryParams",t.VKq(6,Z,n)),t.xp6(1),t.hij(" ",t.lcZ(2,3,n)," ")}}function T(o,e){if(1&o&&(t.TgZ(0,"ngx-datatable-column",18),t.YNc(1,S,3,8,"ng-template",14),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("name",n.name),t.s9C("prop",n.prop)}}function w(o,e){1&o&&(t._uU(0),t.ALo(1,"currency")),2&o&&t.hij(" ",t.lcZ(1,1,e.value)," ")}function M(o,e){if(1&o&&(t.TgZ(0,"ngx-datatable-column",18),t.YNc(1,w,2,3,"ng-template",14),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("name",n.name),t.s9C("prop",n.prop)}}function O(o,e){1&o&&t._UZ(0,"app-amount",20),2&o&&t.Q6J("product",e.row)}function A(o,e){if(1&o&&(t.TgZ(0,"ngx-datatable-column",18),t.YNc(1,O,1,1,"ng-template",14),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("name",n.name),t.s9C("prop",n.prop)}}function P(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){const m=t.CHM(n).row;return t.oxw(4).removeProduct(m)}),t.ALo(1,"translate"),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()()}2&o&&t.Q6J("title",t.lcZ(1,1,"cart.removeProduct"))}function J(o,e){if(1&o&&(t.TgZ(0,"ngx-datatable-column",21),t.YNc(1,P,4,3,"ng-template",14),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("name",n.name),t.s9C("prop",n.prop),t.Q6J("sortable",!1)("width",50)}}function Y(o,e){if(1&o&&(t.ynx(0),t.YNc(1,b,2,3,"ngx-datatable-column",10),t.YNc(2,T,2,2,"ngx-datatable-column",11),t.YNc(3,M,2,2,"ngx-datatable-column",11),t.YNc(4,A,2,2,"ngx-datatable-column",11),t.YNc(5,J,2,4,"ngx-datatable-column",12),t.BQk()),2&o){const n=e.$implicit;t.xp6(1),t.Q6J("ngIf","title"===n.prop),t.xp6(1),t.Q6J("ngIf","category"===n.prop),t.xp6(1),t.Q6J("ngIf","price"===n.prop),t.xp6(1),t.Q6J("ngIf","amount"===n.prop),t.xp6(1),t.Q6J("ngIf","close"===n.prop)}}function Q(o,e){if(1&o&&(t.TgZ(0,"div",7)(1,"ngx-datatable",8),t.YNc(2,Y,6,5,"ng-container",9),t.qZA()()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("rows",n.rows)("columnMode","force")("rowHeight","auto")("scrollbarH",!0),t.xp6(1),t.Q6J("ngForOf",n.columns)}}const L=function(){return["/checkout"]},N=[{path:"",component:(()=>{class o{constructor(n,a,i,m){this.cartService=n,this.translate=a,this.dialogService=i,this.router=m,this.cartLength=0,this.cartTotal=0,this.cart=[],this.rows=[],this.columns=[{prop:"title",name:this.translate.instant("cart.product")},{prop:"category",name:this.translate.instant("cart.category")},{prop:"price",name:this.translate.instant("cart.price")},{prop:"amount",name:this.translate.instant("cart.amount")},{prop:"close"}]}removeProduct(n){const a={title:this.translate.instant("common.areYouSure"),message:this.translate.instant("products.confirmDeleteFromCart")};this.dialogService.open(a),this.removeSubscription$=this.dialogService.confirmed().subscribe(i=>{i&&this.cartService.removeFromCart(n)})}goToProductDetails(n){this.router.navigate([`products/${n.id}`])}manageCart(){this.cartTotal=this.cartService.cartTotal,this.cart=this.cartService.cart,this.rows=this.cart,this.cartSubscription$=this.cartService.cart$.subscribe(n=>{this.cartTotal=this.cartService.cartTotal,this.cart=n,this.rows=this.cart})}ngOnInit(){this.manageCart()}ngOnDestroy(){this.cartSubscription$&&this.cartSubscription$.unsubscribe(),this.removeSubscription$&&this.removeSubscription$.unsubscribe()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g.N),t.Y36(p.sK),t.Y36(d.D),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cart-summary"]],decls:22,vars:18,consts:[[1,"container"],[1,"products"],["class","product-table",4,"ngIf"],[1,"order-subtotal"],[1,"order-summary"],["mat-flat-button","","color","primary",3,"routerLink"],["mat-flat-button",""],[1,"product-table"],[3,"rows","columnMode","rowHeight","scrollbarH"],[4,"ngFor","ngForOf"],[3,"name","prop","width",4,"ngIf"],[3,"name","prop",4,"ngIf"],[3,"name","prop","sortable","width",4,"ngIf"],[3,"name","prop","width"],["ngx-datatable-cell-template",""],[1,"title-column",3,"click"],[3,"src"],[1,"product-id"],[3,"name","prop"],[3,"routerLink","queryParams"],[3,"product"],[3,"name","prop","sortable","width"],["type","button","mat-icon-button","",1,"remove-btn",3,"title","click"]],template:function(n,a){1&n&&(t.TgZ(0,"h2")(1,"div",0),t._uU(2),t.ALo(3,"translate"),t.qZA()(),t.TgZ(4,"div",0)(5,"div",1),t.YNc(6,Q,3,5,"div",2),t.TgZ(7,"div",3)(8,"div"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.ALo(13,"currency"),t.qZA()()(),t.TgZ(14,"div",4),t._UZ(15,"app-order-summary"),t.TgZ(16,"button",5),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"button",6),t._uU(20),t.ALo(21,"translate"),t.qZA()()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,7,"general.yourCart")," "),t.xp6(4),t.Q6J("ngIf",a.cart.length),t.xp6(3),t.Oqu(t.lcZ(10,9,"cart.subtotal")),t.xp6(3),t.Oqu(t.lcZ(13,11,a.cartTotal)),t.xp6(4),t.Q6J("routerLink",t.DdM(17,L)),t.xp6(1),t.hij(" ",t.lcZ(18,13,"cart.proceedToCheckout")," "),t.xp6(3),t.hij(" ",t.lcZ(21,15,"cart.continueShopping")," "))},directives:[c.O5,s.nE,c.sg,s.UC,s.vq,l.yS,C.G,x.lW,h.Hw,f.h,l.rH],pipes:[p.X$,c.rS,c.H9],styles:[".container[_ngcontent-%COMP%]{margin:0 4rem 2rem;display:flex}h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--accent);height:120px;display:flex;align-items:center;font-weight:500;border-bottom:1px solid var(--border-color)}.products[_ngcontent-%COMP%]{flex:1;margin-right:2rem}.products[_ngcontent-%COMP%]   .order-subtotal[_ngcontent-%COMP%]{height:70px;background:#f4f4f4;border:1px solid var(--border-color);display:flex;align-items:center;justify-content:space-between;width:100%;font-size:1.125rem;padding:0 2rem}.title-column[_ngcontent-%COMP%]{display:flex;cursor:pointer}.title-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;min-width:120px;height:120px;object-fit:contain;border:1px solid var(--border-color);margin-right:2rem}.title-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{flex:1}.title-column[_ngcontent-%COMP%]   .product-id[_ngcontent-%COMP%]{color:var(--accent);font-style:italic}a[_ngcontent-%COMP%]{color:var(--accent)}.remove-btn[_ngcontent-%COMP%]{justify-content:center}.order-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:400px}.order-summary[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:50px}.order-summary[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}"]}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,_.m,l.Bz.forChild(N)]]}),o})()}}]);