"use strict";(self.webpackChunkshoplifter=self.webpackChunkshoplifter||[]).push([[459],{9459:(Q,m,s)=>{s.r(m),s.d(m,{CategoryModule:()=>F});var c=s(9808),v=s(387),h=s(9706),y=s(5698),t=s(5e3),S=s(4115),O=s(84),p=s(4218);let x=(()=>{class o{constructor(){}sortByNumbers(e,r){const{sortBy:i,order:g}=e;return r.sort("ASC"===g?(a,l)=>Number(a[i])-Number(l[i]):(a,l)=>Number(l[i])-Number(a[i]))}sortByStrings(e,r){const{sortBy:i,order:g}=e;return r.sort("ASC"===g?(a,l)=>String(a[i]).localeCompare(String(l[i])):(a,l)=>String(l[i]).localeCompare(String(a[i])))}sort(e,r){return"number"==typeof r[0][e.sortBy]?this.sortByNumbers(e,r):this.sortByStrings(e,r)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var u=s(3075),d=s(7322),f=s(4107),b=s(508),T=s(5245);const C=function(o){return{$implicit:o}};function A(o,n){if(1&o&&t.GkF(0,6),2&o){const e=t.oxw(),r=t.MAs(10);t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(2,C,e.chosenSorting))}}function N(o,n){if(1&o&&(t.TgZ(0,"mat-option",7),t.GkF(1,6),t.qZA()),2&o){const e=n.$implicit;t.oxw();const r=t.MAs(10);t.Q6J("value",e.value),t.xp6(1),t.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",t.VKq(3,C,e))}}const Z=function(o){return{rotate:o}};function P(o,n){if(1&o&&(t.TgZ(0,"mat-icon",8),t._uU(1,"sort"),t.qZA(),t._uU(2),t.ALo(3,"translate")),2&o){const e=n.$implicit;t.Q6J("ngClass",t.VKq(5,Z,"ASC"===e.order)),t.xp6(2),t.AsE(" ",e.label," ",t.lcZ(3,3,"sorting."+e.order),"\n")}}let $=(()=>{class o{constructor(e){this.translate=e,this.sort=new t.vpe,this.sortingControl=new u.NI,this.sortingOptions=[{value:"titleASC",sortBy:"title",order:"ASC",label:this.translate.instant("sorting.name")},{value:"titleDESC",order:"DESC",sortBy:"title",label:this.translate.instant("sorting.name")},{value:"priceASC",sortBy:"price",order:"ASC",label:this.translate.instant("sorting.price")},{value:"priceDESC",sortBy:"price",order:"DESC",label:this.translate.instant("sorting.price")}]}manageSorting(e){this.chosenSorting=this.sortingOptions.find(r=>r.value===e),this.sort.emit(this.chosenSorting)}ngOnInit(){this.sortingSubscription$=this.sortingControl.valueChanges.subscribe(e=>{this.manageSorting(e)})}ngOnDestroy(){this.sortingSubscription$&&this.sortingSubscription$.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-sorting"]],outputs:{sort:"sort"},decls:11,vars:6,consts:[[1,"sorting"],["appearance","outline"],[3,"formControl"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["optionTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"value"],[3,"ngClass"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mat-select",2)(6,"mat-select-trigger"),t.YNc(7,A,1,4,"ng-container",3),t.qZA(),t.YNc(8,N,2,5,"mat-option",4),t.qZA()()(),t.YNc(9,P,4,7,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"sorting.sortBy")),t.xp6(2),t.Q6J("formControl",r.sortingControl),t.xp6(2),t.Q6J("ngIf",r.chosenSorting),t.xp6(1),t.Q6J("ngForOf",r.sortingOptions))},directives:[d.KE,d.hX,f.gD,u.JJ,u.oH,f.$L,c.O5,c.tP,c.sg,b.ey,T.Hw,c.mk],pipes:[p.X$],styles:[".sorting[_ngcontent-%COMP%]{position:absolute;right:4rem;top:50%;transform:translateY(-50%)}.rotate[_ngcontent-%COMP%]{transform:rotate(180deg) scaleX(-1)}mat-select-trigger[_ngcontent-%COMP%]{display:flex;align-items:center}mat-select-trigger[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:1rem}"]}),o})();var w=s(1994);function M(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"app-sorting",4),t.NdJ("sort",function(i){return t.CHM(e),t.oxw().sort(i)}),t.qZA()}}function J(o,n){1&o&&t._UZ(0,"app-product-overview",7),2&o&&t.Q6J("product",n.$implicit)("disableHovered",!0)}function I(o,n){if(1&o&&(t.TgZ(0,"div",5),t.YNc(1,J,1,2,"app-product-overview",6),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.products)}}function Y(o,n){1&o&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"general.empty"),"\n"))}const B=[{path:"",component:(()=>{class o{constructor(e,r,i,g,a){this.activatedRoute=e,this.productService=r,this.wishlistService=i,this.translate=g,this.sortingService=a,this.products=[],this.categoryName=this.activatedRoute.snapshot.queryParams.category}sort(e){this.products=this.sortingService.sort(e,this.products)}getProductsInCategory(){this.productService.getProductsInCategory(this.categoryName).pipe((0,y.q)(1)).subscribe(e=>{this.products=e})}manageWishList(){this.products=[...this.wishlistService.wishlist],this.wishlistSubscription$=this.wishlistService.wishlist$.subscribe(e=>{this.products=[...e]})}manageAllProducts(){this.products=[...this.productService.allProducts],this.productsSubscription$=this.productService.allProducts$.subscribe(e=>{this.products=e})}ngOnInit(){this.categoryName&&this.categoryName!==this.translate.instant("general.saleOffers")&&"Sale & Offers"!==this.categoryName?"wishlist"===this.categoryName?this.manageWishList():this.getProductsInCategory():this.manageAllProducts()}ngOnDestroy(){this.wishlistSubscription$&&this.wishlistSubscription$.unsubscribe(),this.productsSubscription$&&this.productsSubscription$.unsubscribe()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.gz),t.Y36(S.s),t.Y36(O.M),t.Y36(p.sK),t.Y36(x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category"]],decls:6,vars:4,consts:[[1,"category-heading"],[3,"sort",4,"ngIf"],["class","category-list",4,"ngIf"],["class","empty",4,"ngIf"],[3,"sort"],[1,"category-list"],[3,"product","disableHovered",4,"ngFor","ngForOf"],[3,"product","disableHovered"],[1,"empty"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2),t.qZA(),t.YNc(3,M,1,0,"app-sorting",1),t.qZA(),t.YNc(4,I,2,1,"div",2),t.YNc(5,Y,3,3,"div",3)),2&e&&(t.xp6(2),t.Oqu(r.categoryName),t.xp6(1),t.Q6J("ngIf",r.products.length),t.xp6(1),t.Q6J("ngIf",r.products.length),t.xp6(1),t.Q6J("ngIf",!r.products.length))},directives:[c.O5,$,c.sg,w.r],pipes:[p.X$],styles:[".category-heading[_ngcontent-%COMP%]{position:relative}.category-list[_ngcontent-%COMP%]{margin:0 auto;display:grid;grid-auto-flow:row;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));grid-template-rows:repeat(auto-fill,1fr);grid-column-gap:1rem;column-gap:1rem;grid-row-gap:2rem;row-gap:2rem;padding:4rem;padding-top:0}h2[_ngcontent-%COMP%]{font-size:2rem;text-align:center;text-transform:uppercase;margin:2rem 0}.empty[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;opacity:.6;margin-top:3rem}"]}),o})()}];let F=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,v.m,h.Bz.forChild(B)]]}),o})()}}]);